<!DOCTYPE html>
<html lang="en">
  <head>
    <title>APIAdapterDelegate Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/APIAdapterDelegate" class="dashAnchor"></a>
    <a title="APIAdapterDelegate Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">FTAPIKit Docs</a> (92% documented)</p>
        <p class="header-right"><a href="https://github.com/thefuntasty/FTAPIKit"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">FTAPIKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        APIAdapterDelegate Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/URLSessionAPIAdapter.html">URLSessionAPIAdapter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RequestType.html">RequestType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/StandardAPIError.html">StandardAPIError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/APIAdapter.html">APIAdapter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/APIAdapterDelegate.html">APIAdapterDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/APIEndpoint.html">APIEndpoint</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/APIError.html">APIError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/APIRequestEndpoint.html">APIRequestEndpoint</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/APIResponseEndpoint.html">APIResponseEndpoint</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/MultipartBodyPart.html">MultipartBodyPart</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:8FTAPIKit26APIRequestResponseEndpointa">APIRequestResponseEndpoint</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:8FTAPIKit11HTTPHeadersa">HTTPHeaders</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:8FTAPIKit14HTTPParametersa">HTTPParameters</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>APIAdapterDelegate</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">APIAdapterDelegate</span> <span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                </div>
              </div>
            <p>Delegate of <code><a href="../Protocols/APIAdapter.html">APIAdapter</a></code> used for platform-specific functionality
(showing/hiding network activity indicator) and signing/manipulating
URL request before they are sent.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8FTAPIKit18APIAdapterDelegateP10apiAdapter_28didUpdateRunningRequestCountyAA0B0_p_SutF"></a>
                    <a name="//apple_ref/swift/Method/apiAdapter(_:didUpdateRunningRequestCount:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8FTAPIKit18APIAdapterDelegateP10apiAdapter_28didUpdateRunningRequestCountyAA0B0_p_SutF">apiAdapter(_:didUpdateRunningRequestCount:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delegate method updating number of currently running requests. Should be used mainly
for logging, debugging and/or presenting network activity indicator on iOS. See example
implementation in discussion.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">apiAdapter</span><span class="p">(</span><span class="n">_</span> <span class="nv">apiAdapter</span><span class="p">:</span> <span class="kt">APIAdapter</span><span class="p">,</span> <span class="n">didUpdateRunningRequestCount</span> <span class="nv">runningRequestCount</span><span class="p">:</span> <span class="kt">UInt</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">isVisible</span> <span class="o">=</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isNetworkActivityIndicatorVisible</span>
    <span class="k">if</span> <span class="n">runningRequestCount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="o">!</span><span class="n">isVisible</span> <span class="p">{</span>
        <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isNetworkActivityIndicatorVisible</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">runningRequestCount</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">{</span>
        <span class="kt">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isNetworkActivityIndicatorVisible</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">apiAdapter</span><span class="p">(</span><span class="n">_</span> <span class="nv">apiAdapter</span><span class="p">:</span> <span class="kt"><a href="../Protocols/APIAdapter.html">APIAdapter</a></span><span class="p">,</span> <span class="n">didUpdateRunningRequestCount</span> <span class="nv">runningRequestCount</span><span class="p">:</span> <span class="kt">UInt</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8FTAPIKit18APIAdapterDelegateP10apiAdapter_11willRequest2to10completionyAA0B0_p_10Foundation10URLRequestVAA11APIEndpoint_pys6ResultOyAKs5Error_pGctF"></a>
                    <a name="//apple_ref/swift/Method/apiAdapter(_:willRequest:to:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8FTAPIKit18APIAdapterDelegateP10apiAdapter_11willRequest2to10completionyAA0B0_p_10Foundation10URLRequestVAA11APIEndpoint_pys6ResultOyAKs5Error_pGctF">apiAdapter(_:willRequest:to:completion:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Method for updating <code>URLRequest</code> created by API adapter with app-specific headers etc.
It can be completed asynchronously so actions like refreshing access token can be executed.
Changes to URL request, which are not due to authorization requirements should be provided
in custom <code>URLSession</code> with configuration when <code><a href="../Protocols/APIAdapter.html">APIAdapter</a></code> is created.</p>

<p>The <code>authorization</code> property of <code><a href="../Protocols/APIEndpoint.html">APIEndpoint</a></code> is provided for manual checking whether the
request should be signed, because signing non-authorized endpoints might pose as a security risk.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">apiAdapter</span><span class="p">(</span><span class="n">_</span> <span class="nv">apiAdapter</span><span class="p">:</span> <span class="kt"><a href="../Protocols/APIAdapter.html">APIAdapter</a></span><span class="p">,</span> <span class="n">willRequest</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">URLRequest</span><span class="p">,</span> <span class="n">to</span> <span class="nv">endpoint</span><span class="p">:</span> <span class="kt"><a href="../Protocols/APIEndpoint.html">APIEndpoint</a></span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt">URLRequest</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>Copyright (c) 2019 FUNTASTY Digital s.r.o.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.10.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
